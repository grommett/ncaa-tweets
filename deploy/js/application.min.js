Utils=function Utils(){this.addCommas=function addCommas($nStr$$){$nStr$$=String($nStr$$);for(var $rgx$$=/(\d+)(\d{3})/;$rgx$$.test($nStr$$);)$nStr$$=$nStr$$.replace($rgx$$,"$1,$2");return $nStr$$};this.ordinal=function ordinal($n$$){var $sfx$$=["th","st","nd","rd"],$val$$=$n$$%100;return $n$$+($sfx$$[($val$$-20)%10]||$sfx$$[$val$$]||$sfx$$[0])};return this}();
TimeStamp=function TimeStamp(){function $timeSince$$(){}function $timeSince$$($diff_s1$$){$diff_s1$$=$diff_s1$$.split(" ");$diff_s1$$=new Date(String($diff_s1$$[0]+" "+$diff_s1$$[1]+" "+$diff_s1$$[2]+" "+$diff_s1$$[5]+" "+$diff_s1$$[3]+" "+$diff_s1$$[4]));$diff_s1$$=(new Date).getTime()-$diff_s1$$.getTime();var $diffDays$$=Math.floor($diff_s1$$/$DAY$$),$diffHours$$=Math.floor($diff_s1$$/$HOUR$$),$diffMins$$=Math.floor($diff_s1$$/$MIN$$);return{days:$diffDays$$,hours:$diffHours$$-$diffDays$$*24,minutes:$diffMins$$-
$diffHours$$*60,seconds:Math.floor($diff_s1$$/1E3)-$diffMins$$*60}}var $DAY$$=864E5,$HOUR$$=36E5,$MIN$$=6E4;this.timeSince=$timeSince$$;return this}();function Log($s$$){try{console.log($s$$)}catch($e$$){}}function Event($$type$$,$$target$$){this.target=$$target$$;this.type=$$type$$}
EventManager=function(){this.events=[];this.addEvent=function $this$addEvent$($eventType$$,$observer$$,$broadcaster$$,$method$$){this.events.push({observer:$observer$$,method:$method$$,broadcaster:$broadcaster$$,eventType:$eventType$$})};this.dispatchEvent=function $this$dispatchEvent$($eventType$$,$target$$){for(var $i$$ in this.events){var $eType$$=this.events[$i$$].eventType,$observer$$=this.events[$i$$].observer,$method$$=this.events[$i$$].method;b=this.events[$i$$].broadcaster;$eType$$==$eventType$$&&
$target$$==b&&$method$$.call($observer$$,new Event($eType$$,$target$$))}};this.removeEventListener=function $this$removeEventListener$($eventType$$,$observer$$){var $e$$,$o$$,$i$$;for($i$$ in this.events){$e$$=this.events[$i$$].eventType;$o$$=this.events[$i$$].observer;$e$$==$eventType$$&&$observer$$==$o$$&&this.events.splice($i$$,1)}};return this}();
function EventDispatcher(){function $addEventListener$$($eventName$$,$func$$){$e$$.addEvent($eventName$$,$addEventListener$$.caller,this,$func$$)}var $e$$=EventManager;this.addEventListener=$addEventListener$$;this.removeEventListener=function removeEventListener($eventType$$,$observer$$){$e$$.removeEventListener($eventType$$,$observer$$)};this.dispatchEvent=function dispatchEvent($type$$,$target$$){$e$$.dispatchEvent($type$$,$target$$)}}
TweetParser=function TweetParser(){function $parseUser$$($str$$){var $userArray$$=$str$$.match($userNameReg$$);if($userArray$$==null)return $str$$;for(var $total$$=$userArray$$.length-1,$i$$=0;$i$$<=$total$$;$i$$++){replaceString="<a href='http://twitter.com/"+$userArray$$[$i$$]+"' target='_blank'>"+$userArray$$[$i$$]+"</a>";$str$$=$str$$.replace($userArray$$[$i$$],replaceString)}return $str$$}var $httpReg$$=/(http|https|ftp)([^ ]+)/gi,$userNameReg$$=/(^|)@(\w+)/g,$hashReg$$=/(^|)#(\w+)/g;this.parse=
function parse($str$$7_str$$inline_13_str$$inline_22_tweet$$){var $hashArray$$inline_23_linkArray$$=$str$$7_str$$inline_13_str$$inline_22_tweet$$.match($httpReg$$);if($hashArray$$inline_23_linkArray$$!=null)for(var $total$$inline_15_total$$=$hashArray$$inline_23_linkArray$$.length-1,$i$$inline_16_i$$=0;$i$$inline_16_i$$<=$total$$inline_15_total$$;$i$$inline_16_i$$++){replaceString="<a href='"+$hashArray$$inline_23_linkArray$$[$i$$inline_16_i$$]+"' target='_blank' rel='nofollow' class='twitter-timeline-link'>"+
$hashArray$$inline_23_linkArray$$[$i$$inline_16_i$$]+"</a>";$str$$7_str$$inline_13_str$$inline_22_tweet$$=$str$$7_str$$inline_13_str$$inline_22_tweet$$.replace($hashArray$$inline_23_linkArray$$[$i$$inline_16_i$$],replaceString)}$hashArray$$inline_23_linkArray$$=$str$$7_str$$inline_13_str$$inline_22_tweet$$.match($hashReg$$);if($hashArray$$inline_23_linkArray$$!=null){$total$$inline_15_total$$=$hashArray$$inline_23_linkArray$$.length-1;for($i$$inline_16_i$$=0;$i$$inline_16_i$$<=$total$$inline_15_total$$;$i$$inline_16_i$$++){replaceString=
"<a href='http://search.twitter.com/search?q="+$hashArray$$inline_23_linkArray$$[$i$$inline_16_i$$].replace("#","%23")+"' target='_blank'>"+$hashArray$$inline_23_linkArray$$[$i$$inline_16_i$$]+"</a>";$str$$7_str$$inline_13_str$$inline_22_tweet$$=$str$$7_str$$inline_13_str$$inline_22_tweet$$.replace($hashArray$$inline_23_linkArray$$[$i$$inline_16_i$$],replaceString)}}return $str$$7_str$$inline_13_str$$inline_22_tweet$$=$parseUser$$($str$$7_str$$inline_13_str$$inline_22_tweet$$)};this.swapHash=function swapHash($s$$){$s$$.replace("#",
"%23");return $s$$};this.parseUser=$parseUser$$;return this}();MediaParser.prototype=new EventDispatcher;MediaParser.constructor=MediaParser;
function MediaParser(){function $plixi$$($url$$,$id$$){var $large$$;$self$$.thumb="http://api.plixi.com/api/tpapi.svc/json/imagefromurl?size=thumbnail&url=http://tweetphoto.com/"+$id$$;$self$$.largeImage="http://api.plixi.com/api/tpapi.svc/json/imagefromurl?size=large&url=http://tweetphoto.com/"+$id$$;$self$$.source=$url$$.indexOf("tweetphoto")!=-1?"tweetphoto":"twitpic";dispatchEvent("onImageData",$self$$)}function $flickr$$($url$$,$id$$){key="a99190c3186dafc012543e6e048865f3";secret="6899beb0fb0c5513";
var $fid$$=$url$$.split("http://flic.kr/p/")[1];$id$$=$base58_decode$$($fid$$);$.ajax({url:"http://api.flickr.com/services/rest/",dataType:"jsonp",data:"method=flickr.photos.getInfo&api_key="+key+"&photo_id="+$id$$+"&format=json&jsoncallback=?",success:$onFlickrImgURL$$,error:function(){Log("error conencting to flickr")}});$self$$.thumb="http://flic.kr/p/img/"+$fid$$+"_s.jpg";$self$$.source="flickr"}function $onFlickrImgURL$$($d$$){$self$$.largeImage="http://farm"+$d$$.photo.farm+".static.flickr.com/"+
$d$$.photo.server+"/"+$d$$.photo.id+"_"+$d$$.photo.secret+"_z.jpg";dispatchEvent("onImageData",$self$$)}function $base58_decode$$($id$$){var $i$$7_num$$=$id$$.length,$decoded$$=0;$id$$=$id$$.split("");var $multi$$=1;for($i$$7_num$$-=1;$i$$7_num$$>=0;$i$$7_num$$--){$decoded$$+=$multi$$*"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ".indexOf($id$$[$i$$7_num$$]);$multi$$*=58}return $decoded$$}var $self$$=this;this.getImage=function getImage($t$$){var $slug$$,$i$$;for($i$$ in domains)if($slug$$=
$t$$.match(domains[$i$$].domain)){domains[$i$$].process($slug$$[0],$slug$$[1]);return true}return $slug$$};domains=[{domain:/\b(?:(?:https?\:\/\/)?(?:www\.)?)?yfrog\.com\/(\S+)/,process:function yFrog($url$$,$id$$){var $large$$;$self$$.thumb="http://yfrog.com/"+$id$$+":small";$self$$.largeImage="http://yfrog.com/"+$id$$+":iphone";$self$$.source="yFrog";dispatchEvent("onImageData",$self$$)}},{domain:/\b(?:(?:https?\:\/\/)?(?:www\.)?)?(?:www\.)?twitpic\.com\/(\S+)/,process:function twitpic($url$$,$id$$){var $large$$;
$self$$.thumb="http://twitpic.com/show/mini/"+$id$$;$self$$.largeImage="http://twitpic.com/show/large/"+$id$$;$self$$.source="twitpic";dispatchEvent("onImageData",$self$$)}},{domain:/\b(?:(?:https?\:\/\/)?(?:www\.)?)?(?:www\.)?tweetphoto\.com\/(\d+)/i,process:$plixi$$},{domain:/\b(?:(?:https?\:\/\/)?(?:www\.)?)?(?:www\.)?plixi\.com\/p\/(\d+)/i,process:$plixi$$},{domain:/\b(?:(?:https?\:\/\/)?(?:www\.)?)?(?:www\.)?m\.plixi\.com\/p\/(\d+)/i,process:$plixi$$},{domain:/\b(?:(?:https?\:\/\/)?(?:www\.)?)?(?:www\.)?photozou\.(?:com|jp)\/photo\/show\/\d+\/(\d+)/i,
process:function photozou($url$$,$id$$){var $large$$;$self$$.thumb="http://photozou.jp/p/img/"+$id$$;$self$$.largeImage="http://photozou.jp/p/img/"+$id$$;$self$$.source="photozou";dispatchEvent("onImageData",$self$$)}},{domain:/\b(?:(?:https?\:\/\/)?(?:www\.)?)?(?:www\.)?flic\.kr\/p\/[a-z0-9]+\/?$/i,process:$flickr$$},{domain:/\b(?:(?:https?\:\/\/)?(?:www\.)?)?(?:www\.)?flic\.kr\/(?!p\/)([\w\@\-]+)\/?$/i,process:$flickr$$}];return this}VerizonModule.prototype=new EventDispatcher;
VerizonModule.constructor=VerizonModule;
function VerizonModule(){function $updateTweetBox$$(){$styleTweetBox$$()}function $onClickReply$$(){dispatchEvent("onReply",$self$$)}function $onClickFollow$$(){dispatchEvent("onFollow",$self$$)}function $onClickReTweet$$(){dispatchEvent("onReTweet",$self$$)}function $onClickFavorite$$(){dispatchEvent("onFavorite",$self$$)}function $styleTweetBox$$(){var $box$$=$("#tbox iframe").contents().find("textarea"),$iframe$$=$("#tbox iframe"),$button$$=$iframe$$.contents().find("button").parent(),$formButton$$=
$iframe$$.contents().find("button");$("#tbox iframe").contents().find("textarea").val("#ncaatourney http://es.pn/eCYCAh");label=$iframe$$.contents().find("label");counter=$iframe$$.contents().find("#counter");label.css("fontSize");label.css("font-size",12);label.css("color","#fff");$iframe$$.css("height","180");counter.css("position","absolute");counter.css("color","#fff");counter.css("left","260px");counter.css("top","5px");counter.css("text-align","right");counter.css("width",80);counter.css("font-size",
12);$box$$.css("background","transparent");$box$$.css("color","#fff");$button$$.css("background","#D53D36");$button$$.css("border","none");$formButton$$.css("color","#000");$formButton$$.css("text-shadow","none");$formButton$$.css("font-size","12px");$formButton$$.css("font-weight","bold");$formButton$$.css("text-transform","uppercase");$box$$.focus(function(){Log("focus");$setSelectionRange$$(this,0,0)});$box$$.blur(function(){Log("blur");$box$$.click(function(){$setSelectionRange$$(this,0,0);$box$$.unbind("click")})});
$box$$.click(function(){$setSelectionRange$$(this,0,0);$box$$.unbind("click")})}function $setSelectionRange$$($input_range$$,$selectionStart$$,$selectionEnd$$){if($input_range$$.setSelectionRange){$input_range$$.focus();$input_range$$.setSelectionRange($selectionStart$$,$selectionEnd$$)}else if($input_range$$.createTextRange){$input_range$$=$input_range$$.createTextRange();$input_range$$.collapse(true);$input_range$$.moveEnd("character",$selectionEnd$$);$input_range$$.moveStart("character",$selectionStart$$);
$input_range$$.select()}}var $element$$=$("#atanywhere-container"),$self$$=this,$model$$=new TRModel,$questionModel$$=new TRModel,$qInterval$$=null;this.twitterProxy=null;this.twitterReady=function twitterReady(){$self$$.twitterProxy.getTweetBox("#tbox",{height:90,width:340,defaultContent:"#ncaatourney http://es.pn/eCYCAh",label:"Add your own Tournament Tweet.",complete:$updateTweetBox$$})};this.getElement=function $this$getElement$(){return $element$$.find(".tweet-text")};$model$$.addEventListener("onDataChange",
function onDataChange($d$$inline_30_e$$){$d$$inline_30_e$$=$d$$inline_30_e$$.target.getData()[0];$self$$.tweetText=$d$$inline_30_e$$.text;$self$$.htmlText=TweetParser.parse($d$$inline_30_e$$.text);$self$$.tweetID=$d$$inline_30_e$$.id_str;$self$$.screenName=$d$$inline_30_e$$.user.screen_name;$self$$.userName=$d$$inline_30_e$$.user.name;$element$$.find(".tweet-text").html($self$$.htmlText);$element$$.find(".action-follow").click($onClickFollow$$);$element$$.find(".action-favorite").click($onClickFavorite$$);
$element$$.find(".action-retweet").click($onClickReTweet$$);$element$$.find(".action-reply").click($onClickReply$$)});$model$$.setStream("http://tr-cache-2.appspot.com/smithandrobot/actionscript.json");$model$$.load();$questionModel$$.addEventListener("onDataChange",function onQuestionData($data$$13_e$$){$data$$13_e$$=$data$$13_e$$.target.getData();$("#tbox iframe").contents().find("label").text($data$$13_e$$[0].text);clearInterval($qInterval$$);$qInterval$$=setTimeout($questionModel$$.load,1E3)});
$questionModel$$.setStream("http://tr-cache-2.appspot.com/smithandrobot/questions.json");$questionModel$$.load();return this}TwitterProxy.prototype=new EventDispatcher;TwitterProxy.constructor=TwitterProxy;
function TwitterProxy(){function $isConnected$$(){Log("self.twitterOBJ: isConnected");return $twitterOBJ$$.isConnected()}function $signIn$$(){$self$$.loggedIn=true;dispatchEvent("onLoggedInStateChanged",$self$$)}function $signOut$$(){$self$$.loggedIn=false;dispatchEvent("onLoggedInStateChanged",$self$$)}var $twitterOBJ$$=null,$self$$=this;this.isConnected=$isConnected$$;this.twitterOBJ=null;this.getTweetBox=function getTweetBox($id$$,$obj$$){$twitterOBJ$$($id$$).tweetBox($obj$$)};this.loggedIn=false;
twttr.anywhere(function init($t$$){$twitterOBJ$$=$t$$;$self$$.twitterOBJ=$t$$;dispatchEvent("onReady",$self$$);$twitterOBJ$$.bind("authComplete",$signIn$$);$twitterOBJ$$.bind("signOut",$signOut$$);$isConnected$$()&&$signIn$$()});return this}ModalOverlay.prototype=new EventDispatcher;ModalOverlay.constructor=ModalOverlay;
function ModalOverlay(){function $close$$(){if($state$$!="closed"){$overlay$$.fadeOut(250);$state$$="closed";dispatchEvent("onModalOverlayClose",$self$$)}}this.z=5E3;this.close=$close$$;this.open=function open(){if($state$$!="open"){if(!$rendered$$){$overlay$$.appendTo(document.body);$rendered$$=true}$overlay$$.fadeIn(250);$state$$="open"}};var $self$$=this,$state$$="closed",$rendered$$=false,$overlay$$=null;(function makeOverlay(){$overlay$$=$('<div id="modal-overlay">');var $cssObj$$={};$cssObj$$.position=
"absolute";$cssObj$$.top=0;$cssObj$$.left=0;$cssObj$$.height=$(document).height();$cssObj$$.width="100%";$cssObj$$.opacity=0.5;$cssObj$$.backgroundColor="black";$cssObj$$.zIndex=$self$$.z;$overlay$$.css($cssObj$$);$overlay$$.click($close$$)})();return this}ModalTweetBox.prototype=new EventDispatcher;ModalTweetBox.constructor=ModalTweetBox;
function ModalTweetBox($overlay$$){function $onClose$$(){$element$$.fadeOut(250);$overlay$$.close();$state$$="closed"}function $position$$($animate_top$$){var $docY$$=$(window).height()/2-100,$docX$$=$(document).width()/2,$height$$=$element$$.height()/2,$width$$=$element$$.width()/2,$propObject$$={};$propObject$$.left=$docX$$-$width$$;$propObject$$.top=$docY$$-$height$$<0?10:$docY$$-$height$$;$animate_top$$?$element$$.animate($propObject$$,250):$element$$.css($propObject$$)}function $showConfirmScreen$$(){var $cs$$=
$element$$.find(".confirmation-screen");$element$$.find(".action-screen").hide();$cs$$.show()}function $styleTweetBox$$(){Log("styling modal tweetbox");var $box$$=$(".action-screen iframe").contents().find("textarea"),$button$$=$(".action-screen iframe").contents().find("button").parent(),$formButton$$=$(".action-screen iframe").contents().find("button");label=$(".action-screen iframe").contents().find("label");counter=$(".action-screen iframe").contents().find("#counter");label.css("fontSize");label.css("font-size",
12);label.css("color","#fff");counter.css("position","absolute");counter.css("color","#fff");counter.css("left","260px");counter.css("top","5px");counter.css("text-align","right");counter.css("width",80);counter.css("font-size",12);$box$$.css("background","transparent");$box$$.css("color","#fff");$button$$.css("background","#D53D36");$button$$.css("border","none");$formButton$$.css("color","#000");$formButton$$.css("text-shadow","none");$formButton$$.css("font-size","12px");$formButton$$.css("font-weight",
"bold");$formButton$$.css("text-transform","uppercase")}var $element$$=$("#modal-tweetbox-template"),$state$$="closed",$self$$=this;this.tweet=null;this.open=function open($cs$$inline_40_h$$){$cs$$inline_40_h$$&&$element$$.find(".confirmation").html("Your tweet for "+$cs$$inline_40_h$$+"<br />was sent to twitter.");if($state$$=="closed"){$("#team-tweet-box").empty();$self$$.twitterProxy.getTweetBox("#team-tweet-box",{height:70,width:230,defaultContent:$cs$$inline_40_h$$,complete:$styleTweetBox$$,
label:"",onTweet:$showConfirmScreen$$});$cs$$inline_40_h$$=$element$$.find(".confirmation-screen");var $as$$=$element$$.find(".action-screen");$cs$$inline_40_h$$.hide();$as$$.show();$element$$.css("z-index",$overlay$$.z+1);$element$$.fadeIn(250);$overlay$$.open()}$position$$();$state$$="open"};this.twitterProxy=null;$overlay$$.addEventListener("onModalOverlayClose",$onClose$$);(function decorateBTNS(){var $cBtn_cancelBtn_okBtn$$=$element$$.find(".close-button");$cBtn_cancelBtn_okBtn$$.click($onClose$$);
$cBtn_cancelBtn_okBtn$$.hover(function(){$(this).css("cursor","pointer")},function(){$(this).css("cursor","auto")});$cBtn_cancelBtn_okBtn$$=$element$$.find(".modal-cancel-button");$cBtn_cancelBtn_okBtn$$.click($onClose$$);$cBtn_cancelBtn_okBtn$$.hover(function(){$(this).css("cursor","pointer")},function(){$(this).css("cursor","auto")});$cBtn_cancelBtn_okBtn$$=$element$$.find(".modal-confirm-button");$cBtn_cancelBtn_okBtn$$.click($onClose$$);$cBtn_cancelBtn_okBtn$$.hover(function(){$(this).css("cursor",
"pointer")},function(){$(this).css("cursor","auto")})})();$element$$.css("position","fixed");$position$$(false);return this}ModalPhoto.prototype=new EventDispatcher;ModalPhoto.constructor=ModalPhoto;
function ModalPhoto($overlay$$){function $onClose$$(){$element$$.fadeOut(250);$overlay$$.close();$state$$="closed"}function $onImageLoad$$(){var $docY$$2_img$$4_top$$=$element$$.find("img");$docY$$2_img$$4_top$$.hide();$docY$$2_img$$4_top$$.attr("src",this.src);$docY$$2_img$$4_top$$.attr("width",this.width);$docY$$2_img$$4_top$$.attr("height",this.height);$docY$$2_img$$4_top$$.fadeIn("slow");$docY$$2_img$$4_top$$=$(window).height()/2-100;var $docX$$2_left$$=$(document).width()/2,$height$$=$element$$.height()/
2;$docX$$2_left$$-=this.width/2;var $propObject$$={};$propObject$$.width=this.width;$propObject$$.left=$docX$$2_left$$;$propObject$$.top=$docY$$2_img$$4_top$$-$height$$<0?10:$docY$$2_img$$4_top$$-$height$$;$element$$.animate($propObject$$,250)}var $element$$=$("#modal-photo-template"),$state$$="closed";this.open=function open($docX$$inline_53_left$$inline_55_t$$){if($state$$!="open"){$overlay$$.open();var $docY$$inline_52_img$$inline_51_top$$=new Image;$docY$$inline_52_img$$inline_51_top$$.onload=
$onImageLoad$$;$docY$$inline_52_img$$inline_51_top$$.src=$docX$$inline_53_left$$inline_55_t$$.largeImage;$element$$.css("width",200);$docY$$inline_52_img$$inline_51_top$$=$(window).height()/2-100;$docX$$inline_53_left$$inline_55_t$$=$(document).width()/2;$docY$$inline_52_img$$inline_51_top$$-=$element$$.height()/2;$docX$$inline_53_left$$inline_55_t$$-=100;$element$$.css("top",$docY$$inline_52_img$$inline_51_top$$);$element$$.css("left",$docX$$inline_53_left$$inline_55_t$$);$element$$.css("z-index",
5002);$element$$.find("img").attr("width",31);$element$$.find("img").attr("height",31);$element$$.find("img").attr("src","img/ajax-loader.gif");$element$$.show()}};$overlay$$.addEventListener("onModalOverlayClose",$onClose$$);(function decorateCloseBtn(){var $cBtn$$=$element$$.find(".close-button");$cBtn$$.click($onClose$$);$cBtn$$.hover(function(){$(this).css("cursor","pointer")},function(){$(this).css("cursor","auto")})})();$element$$.css("position","fixed");return this}
function ReTweetModal($overlay$$){function $onClose$$(){$element$$.fadeOut(250);$overlay$$.close();$state$$="closed"}function $position$$($animate$$1_top$$){var $docY$$=$(window).height()/2-100,$docX$$=$(document).width()/2,$height$$=$element$$.height()/2,$width$$=$element$$.width()/2,$propObject$$={};$propObject$$.left=$docX$$-$width$$;$propObject$$.top=$docY$$-$height$$<0?10:$docY$$-$height$$;$animate$$1_top$$?$element$$.animate($propObject$$,250):$element$$.css($propObject$$)}function $onRetweet$$(){var $cs$$inline_66_validUser$$=
false,$t$$=$self$$.twitterProxy.twitterOBJ;if($t$$.isConnected())$cs$$inline_66_validUser$$=true;else{$t$$.bind("authComplete",$onRetweet$$);$t$$.signIn()}if($cs$$inline_66_validUser$$){$self$$.twitterProxy.twitterOBJ.Status.retweet($tweetID$$);$cs$$inline_66_validUser$$=$element$$.find(".confirmation-screen");$element$$.find(".action-screen").hide();$cs$$inline_66_validUser$$.show()}else Log("user did not validate, authorizing...")}var $element$$=$("#modal-retweet-template"),$state$$="closed",$tweetID$$=
null,$self$$=this;this.tweet=this.twitterProxy=null;this.open=function open($cs$$inline_75_tweet$$){var $as$$inline_76_html$$=$cs$$inline_75_tweet$$.getElement().clone();$element$$.find(".modal-dialog").text("Retweet this from "+$cs$$inline_75_tweet$$.screenName);$element$$.find(".confirmation").html("You retweeted<br/>"+$cs$$inline_75_tweet$$.screenName+"'s tweet.");$as$$inline_76_html$$.find(".tweet-profile-image").remove();$as$$inline_76_html$$.find(".tweet-utility").remove();$as$$inline_76_html$$.find(".tweet-attachment").remove();
$as$$inline_76_html$$.find(".tweet-copy-block").css("margin-left","0px");$as$$inline_76_html$$.find(".tweet-copy-block").css("font-family","arial");$as$$inline_76_html$$.find(".tweet-copy-block").css("font-size","11px");$(".modal-tweet-container").html($as$$inline_76_html$$);$tweetID$$=$cs$$inline_75_tweet$$.tweetID;if($state$$=="closed"){$cs$$inline_75_tweet$$=$element$$.find(".confirmation-screen");$as$$inline_76_html$$=$element$$.find(".action-screen");$cs$$inline_75_tweet$$.hide();$as$$inline_76_html$$.show();
$element$$.css("z-index",$overlay$$.z+1);$element$$.fadeIn(250);$overlay$$.open()}$position$$();$state$$="open"};$overlay$$.addEventListener("onModalOverlayClose",$onClose$$);(function decorateBTNS(){var $cBtn$$2_cancelBtn$$1_okBtn$$=$element$$.find(".close-button");$cBtn$$2_cancelBtn$$1_okBtn$$.click($onClose$$);$cBtn$$2_cancelBtn$$1_okBtn$$.hover(function(){$(this).css("cursor","pointer")},function(){$(this).css("cursor","auto")});$cBtn$$2_cancelBtn$$1_okBtn$$=$element$$.find(".modal-cancel-button");
$cBtn$$2_cancelBtn$$1_okBtn$$.click($onClose$$);$cBtn$$2_cancelBtn$$1_okBtn$$.hover(function(){$(this).css("cursor","pointer")},function(){$(this).css("cursor","auto")});$cBtn$$2_cancelBtn$$1_okBtn$$=$element$$.find(".modal-retweet-button");$cBtn$$2_cancelBtn$$1_okBtn$$.click($onRetweet$$);$cBtn$$2_cancelBtn$$1_okBtn$$.hover(function(){$(this).css("cursor","pointer")},function(){$(this).css("cursor","auto")});$cBtn$$2_cancelBtn$$1_okBtn$$=$element$$.find(".modal-confirm-button");$cBtn$$2_cancelBtn$$1_okBtn$$.click($onClose$$);
$cBtn$$2_cancelBtn$$1_okBtn$$.hover(function(){$(this).css("cursor","pointer")},function(){$(this).css("cursor","auto")})})();$element$$.css("position","fixed");$position$$(false);return this}ModalReply.prototype=new EventDispatcher;ModalReply.constructor=ModalReply;
function ModalReply($overlay$$){function $onClose$$(){$element$$.fadeOut(250);$overlay$$.close();$state$$="closed"}function $position$$($animate$$2_top$$){var $docY$$=$(window).height()/2-100,$docX$$=$(document).width()/2,$height$$=$element$$.height()/2,$width$$=$element$$.width()/2,$propObject$$={};$propObject$$.left=$docX$$-$width$$;$propObject$$.top=$docY$$-$height$$<0?10:$docY$$-$height$$;$animate$$2_top$$?$element$$.animate($propObject$$,250):$element$$.css($propObject$$)}function $showConfirmScreen$$(){var $cs$$=
$element$$.find(".confirmation-screen");$element$$.find(".action-screen").hide();$cs$$.show()}function $complete$$(){var $box$$=$("#reply-box iframe").contents().find("textarea");Log(" styling modal reply box css:"+$box$$.css("font"));var $button$$=$("#reply-box iframe").contents().find("button").parent(),$formButton$$=$("#reply-box iframe").contents().find("button");label=$(".action-screen iframe").contents().find("label");counter=$(".action-screen iframe").contents().find("#counter");label.css("fontSize");
label.css("font-size",12);label.css("color","#fff");counter.css("position","absolute");counter.css("color","#fff");counter.css("left","260px");counter.css("top","5px");counter.css("text-align","right");counter.css("width",80);counter.css("font-size",12);$box$$.css("background","transparent");$box$$.css("color","#fff");$button$$.css("background","#D53D36");$button$$.css("border","none");$formButton$$.css("color","#000");$formButton$$.css("text-shadow","none");$formButton$$.css("font-size","12px");
$formButton$$.css("font-weight","bold");$formButton$$.css("text-transform","uppercase")}var $element$$=$("#modal-reply-template"),$state$$="closed",$self$$=this;this.tweet=null;this.open=function open($cs$$inline_94_tweet$$){if($cs$$inline_94_tweet$$){Log("status id");$element$$.find(".confirmation").html("Your reply to @"+$cs$$inline_94_tweet$$.screenName+"<br />was sent to twitter.")}if($state$$=="closed"){$("#reply-box").empty();$self$$.twitterProxy.getTweetBox("#reply-box",{height:70,width:230,
defaultContent:"@"+$cs$$inline_94_tweet$$.screenName,complete:$complete$$,label:"",onTweet:$showConfirmScreen$$,data:{in_reply_to_status_id:$cs$$inline_94_tweet$$.tweetID}});$cs$$inline_94_tweet$$=$element$$.find(".confirmation-screen");var $as$$=$element$$.find(".action-screen");$cs$$inline_94_tweet$$.hide();$as$$.show();$element$$.css("z-index",$overlay$$.z+1);$element$$.fadeIn(250);$overlay$$.open()}$position$$();$state$$="open"};this.twitterProxy=null;$overlay$$.addEventListener("onModalOverlayClose",
$onClose$$);(function decorateBTNS(){var $cBtn$$3_cancelBtn$$2_okBtn$$=$element$$.find(".close-button");$cBtn$$3_cancelBtn$$2_okBtn$$.click($onClose$$);$cBtn$$3_cancelBtn$$2_okBtn$$.hover(function(){$(this).css("cursor","pointer")},function(){$(this).css("cursor","auto")});$cBtn$$3_cancelBtn$$2_okBtn$$=$element$$.find(".modal-cancel-button");$cBtn$$3_cancelBtn$$2_okBtn$$.click($onClose$$);$cBtn$$3_cancelBtn$$2_okBtn$$.hover(function(){$(this).css("cursor","pointer")},function(){$(this).css("cursor",
"auto")});$cBtn$$3_cancelBtn$$2_okBtn$$=$element$$.find(".modal-confirm-button");$cBtn$$3_cancelBtn$$2_okBtn$$.click($onClose$$);$cBtn$$3_cancelBtn$$2_okBtn$$.hover(function(){$(this).css("cursor","pointer")},function(){$(this).css("cursor","auto")})})();$element$$.css("position","fixed");$position$$(false);return this}ModalFollow.prototype=new EventDispatcher;ModalFollow.constructor=ModalFollow;
function ModalFollow($overlay$$){function $onClose$$(){$element$$.fadeOut(250);$overlay$$.close();$state$$="closed"}function $position$$($animate$$3_top$$){var $docY$$=$(window).height()/2-100,$docX$$=$(document).width()/2,$height$$=$element$$.height()/2,$width$$=$element$$.width()/2,$propObject$$={};$propObject$$.left=$docX$$-$width$$;$propObject$$.top=$docY$$-$height$$<0?10:$docY$$-$height$$;$animate$$3_top$$?$element$$.animate($propObject$$,250):$element$$.css($propObject$$)}function $onFollow$$(){var $cs$$inline_106_t$$12_validUser$$=
false,$as$$inline_107_t$$=$self$$.twitterProxy.twitterOBJ;if($as$$inline_107_t$$.isConnected())$cs$$inline_106_t$$12_validUser$$=true;else{$as$$inline_107_t$$.bind("authComplete",$onFollow$$);$as$$inline_107_t$$.signIn()}if($cs$$inline_106_t$$12_validUser$$){$cs$$inline_106_t$$12_validUser$$=$self$$.twitterProxy.twitterOBJ;Log("follow user: "+$user$$);$cs$$inline_106_t$$12_validUser$$.User.find($user$$).follow();$cs$$inline_106_t$$12_validUser$$=$element$$.find(".confirmation-screen");$as$$inline_107_t$$=
$element$$.find(".action-screen");$self$$.tweet=tweet;$as$$inline_107_t$$.hide();$cs$$inline_106_t$$12_validUser$$.show()}}var $element$$=$("#modal-follow-template"),$state$$="closed",$user$$=null,$self$$=this;this.tweet=this.tweetProxy=null;this.open=function open($cs$$inline_114_tweet$$){if($cs$$inline_114_tweet$$){$cs$$inline_114_tweet$$.getElement().clone();$element$$.find(".modal-dialog").append().html('Start following<br /><span class="red">'+$cs$$inline_114_tweet$$.screenName+"</span>");$element$$.find(".confirmation").append().html('You are now following<br /><span class="red">'+
$cs$$inline_114_tweet$$.screenName+"</span>")}$self$$.tweet=$cs$$inline_114_tweet$$;$user$$=$cs$$inline_114_tweet$$.screenName;Log("follow user: "+$user$$);if($state$$=="closed"){$cs$$inline_114_tweet$$=$element$$.find(".confirmation-screen");var $as$$=$element$$.find(".action-screen");$cs$$inline_114_tweet$$.hide();$as$$.show();$element$$.css("z-index",$overlay$$.z+1);$element$$.fadeIn(250);$overlay$$.open()}$position$$();$state$$="open"};$overlay$$.addEventListener("onModalOverlayClose",$onClose$$);
(function decorateBTNS(){var $cBtn$$4_cancelBtn$$3_fBtn_okBtn$$=$element$$.find(".close-button");$cBtn$$4_cancelBtn$$3_fBtn_okBtn$$.click($onClose$$);$cBtn$$4_cancelBtn$$3_fBtn_okBtn$$.hover(function(){$(this).css("cursor","pointer")},function(){$(this).css("cursor","auto")});$cBtn$$4_cancelBtn$$3_fBtn_okBtn$$=$element$$.find(".modal-cancel-button");$cBtn$$4_cancelBtn$$3_fBtn_okBtn$$.click($onClose$$);$cBtn$$4_cancelBtn$$3_fBtn_okBtn$$.hover(function(){$(this).css("cursor","pointer")},function(){$(this).css("cursor",
"auto")});$cBtn$$4_cancelBtn$$3_fBtn_okBtn$$=$element$$.find(".modal-follow-button");$cBtn$$4_cancelBtn$$3_fBtn_okBtn$$.click($onFollow$$);$cBtn$$4_cancelBtn$$3_fBtn_okBtn$$.hover(function(){$(this).css("cursor","pointer")},function(){$(this).css("cursor","auto")});$cBtn$$4_cancelBtn$$3_fBtn_okBtn$$=$element$$.find(".modal-confirm-button");$cBtn$$4_cancelBtn$$3_fBtn_okBtn$$.click($onClose$$);$cBtn$$4_cancelBtn$$3_fBtn_okBtn$$.hover(function(){$(this).css("cursor","pointer")},function(){$(this).css("cursor",
"auto")})})();$element$$.css("position","fixed");$position$$(false);return this}FavoriteModal.prototype=new EventDispatcher;FavoriteModal.constructor=FavoriteModal;
function FavoriteModal($overlay$$){function $onClose$$(){$element$$.fadeOut(250);$overlay$$.close();$state$$="closed"}function $position$$($animate$$4_top$$){var $docY$$=$(window).height()/2-100,$docX$$=$(document).width()/2,$height$$=$element$$.height()/2,$width$$=$element$$.width()/2,$propObject$$={};$propObject$$.left=$docX$$-$width$$;$propObject$$.top=$docY$$-$height$$<0?10:$docY$$-$height$$;$animate$$4_top$$?$element$$.animate($propObject$$,250):$element$$.css($propObject$$)}function $onFavorite$$(){Log("onFavorite");
var $cs$$inline_126_validUser$$=false,$t$$=$self$$.twitterProxy.twitterOBJ;if($t$$.isConnected())$cs$$inline_126_validUser$$=true;else{$t$$.bind("authComplete",$onFavorite$$);$t$$.signIn()}if($cs$$inline_126_validUser$$){$self$$.twitterProxy.twitterOBJ.Status.favorite($tweetID$$);$cs$$inline_126_validUser$$=$element$$.find(".confirmation-screen");$element$$.find(".action-screen").hide();$cs$$inline_126_validUser$$.show()}else Log("user did not validate, authorizing...")}var $element$$=$("#modal-favorite-template"),
$state$$="closed",$tweetID$$=null,$self$$=this;this.tweet=null;this.open=function open($cs$$inline_133_tweet$$){if($cs$$inline_133_tweet$$){$cs$$inline_133_tweet$$.getElement().clone();$element$$.find(".modal-dialog").append().html('Favorite this tweet from<br /><span class="red">'+$cs$$inline_133_tweet$$.screenName+"</span>")}$tweetID$$=$cs$$inline_133_tweet$$.tweetID;$self$$.tweet=$cs$$inline_133_tweet$$;if($state$$=="closed"){$cs$$inline_133_tweet$$=$element$$.find(".confirmation-screen");var $as$$=
$element$$.find(".action-screen");$cs$$inline_133_tweet$$.hide();$as$$.show();$element$$.css("z-index",$overlay$$.z+1);$element$$.fadeIn(250);$overlay$$.open()}$position$$();$state$$="open"};this.twitterProxy=null;$overlay$$.addEventListener("onModalOverlayClose",$onClose$$);(function decorateBTNS(){var $cBtn$$5_cancelBtn$$4_fvtBtn_okBtn$$=$element$$.find(".close-button");$cBtn$$5_cancelBtn$$4_fvtBtn_okBtn$$.click($onClose$$);$cBtn$$5_cancelBtn$$4_fvtBtn_okBtn$$.hover(function(){$(this).css("cursor",
"pointer")},function(){$(this).css("cursor","auto")});$cBtn$$5_cancelBtn$$4_fvtBtn_okBtn$$=$element$$.find(".modal-cancel-button");$cBtn$$5_cancelBtn$$4_fvtBtn_okBtn$$.click($onClose$$);$cBtn$$5_cancelBtn$$4_fvtBtn_okBtn$$.hover(function(){$(this).css("cursor","pointer")},function(){$(this).css("cursor","auto")});$cBtn$$5_cancelBtn$$4_fvtBtn_okBtn$$=$element$$.find(".modal-confirm-button");$cBtn$$5_cancelBtn$$4_fvtBtn_okBtn$$.click($onClose$$);$cBtn$$5_cancelBtn$$4_fvtBtn_okBtn$$.hover(function(){$(this).css("cursor",
"pointer")},function(){$(this).css("cursor","auto")});$cBtn$$5_cancelBtn$$4_fvtBtn_okBtn$$=$element$$.find(".modal-favorite-button");$cBtn$$5_cancelBtn$$4_fvtBtn_okBtn$$.click($onFavorite$$);$cBtn$$5_cancelBtn$$4_fvtBtn_okBtn$$.hover(function(){$(this).css("cursor","pointer")},function(){$(this).css("cursor","auto")})})();$element$$.css("position","fixed");$position$$(false);return this}TRModel.prototype=new EventDispatcher;TRModel.constructor=TRModel;TRModel.constructor.id=0;
function TRModel($URL$$){function $onStreamError$$(){++$attempt$$;if($attempt$$>=$maxAttempts$$){Log("attempt: "+$attempt$$+" stopping further attempts in stream: "+$stream$$);clearInterval($attemptInt$$);dispatchEvent("onModelError",$self$$)}else{Log("unable to load stream attempt: "+$attempt$$+" stream: "+$stream$$);clearInterval($attemptInt$$);$attemptInt$$=setTimeout($loadCallback$$,$attemptInterval$$)}}function $onStreamLoaded$$($d$$){$data$$=$d$$;dispatchEvent("onDataChange",$self$$)}function $loadCustomCallBack$$($sinceID$$,
$callback$$){var $aObj_since$$={},$callbackName$$="trCallback_"+String($self$$.id)+"_x";$loadCallback$$=$loadCustomCallBack$$;window[$callbackName$$]=$self$$.trCallback;$aObj_since$$.url=$stream$$+($sinceID$$?"?since_id="+$sinceID$$:"");if($callback$$)$aObj_since$$.jsonp=$callback$$;$aObj_since$$.cache=true;$aObj_since$$.dataType="jsonp";$aObj_since$$.success=$onStreamLoaded$$;$aObj_since$$.error=$onStreamError$$;$aObj_since$$.jsonpCallback=$callbackName$$;$.ajax($aObj_since$$)}function $loadJSON$$(){$loadCallback$$=
$loadJSON$$;var $aObj$$={};$aObj$$.url=$stream$$;$aObj$$.cache=false;$aObj$$.dataType="json";$aObj$$.success=$onStreamLoaded$$;$aObj$$.error=$onStreamError$$;$.ajax($aObj$$)}var $self$$=this,$stream$$=$URL$$,$data$$=null,$type$$=null,$maxAttempts$$=5,$attempt$$=0,$attemptInterval$$=1E3,$loadCallback$$=null,$attemptInt$$=null;this.name="model";this.id="TR_MODEL_"+ ++TRModel.constructor.id;this.getStream=function $this$getStream$(){return $stream$$};this.setStream=function $this$setStream$($s$$){$stream$$=
$s$$};this.getData=function $this$getData$(){return $data$$};this.setType=function $this$setType$($t$$){$type$$=$t$$};this.getType=function $this$getType$(){return $type$$};this.load=$loadCustomCallBack$$;this.loadJSON=$loadJSON$$;this.toString=function $this$toString$(){return"TRModel: "+this.id};this.poll=function poll($sinceID$$){$loadCustomCallBack$$($sinceID$$)};this.trCallback=function trCallback(){};return this}TeamsModel.prototype=new EventDispatcher;TeamsModel.constructor=TeamsModel;
function TeamsModel(){function $poll$$(){$model$$.load(null,"jsonp")}function $setTeamColor$$($id$$,$color$$){$id$$=$id$$.toLowerCase();if($self$$.team_schema[$id$$])$self$$.team_schema[$id$$].color=$color$$}var $self$$=this,$model$$=new TRModel;$model$$.addEventListener("onDataChange",function onDataChange($data$$15_e$$){$data$$15_e$$=$data$$15_e$$.target.getData();if($teamsLoaded$$)for($colorValues$$inline_138_s$$ in $data$$15_e$$.streams){$stream$$=$data$$15_e$$.streams[$colorValues$$inline_138_s$$];
$breaks_team$$=$stream$$.name.split("-");if($breaks_team$$.length==3){var $breaks_team$$=$self$$.team_schema[$breaks_team$$[2]];if($breaks_team$$)$breaks_team$$.mentions=$stream$$.count.total}}else{for(var $colorValues$$inline_138_s$$ in $data$$15_e$$.streams){var $stream$$=$data$$15_e$$.streams[$colorValues$$inline_138_s$$];$breaks_team$$=$stream$$.name.split("-");if($breaks_team$$.length==3){var $teamData$$=$stream$$.description.split("|");$self$$.team_schema[$breaks_team$$[2]]={seed:$.trim($teamData$$[0]),
displayName:$.trim($teamData$$[1]),hashTag:$.trim($teamData$$[2]),shortName:$breaks_team$$[2],stream:$stream$$.full_name+"-curated",mentions:$stream$$.count.total}}}$teamsLoaded$$=true}$colorValues$$inline_138_s$$={HAMP:{color:"#4892D3",name:"Hampton Pirates"},PRIN:{color:"#FF9408",name:"Princeton Tigers"},AKR:{color:"#CAB388",name:"Akron Zips"},SMU:{color:"#B10000",name:"Southern Methodist Mustangs"},OAK:{color:"#9A803E",name:"Oakland Golden Grizzlies"},PITT:{color:"#CEC499",name:"Pittsburgh Panthers"},
LIU:{color:"#777777",name:"Long Island Blackbirds"},FSU:{color:"#990000",name:"Florida State Seminoles"},CLEM:{color:"#F35B0F",name:"Clemson Tigers"},CONN:{color:"#2154A0",name:"Connecticut Huskies"},TEX:{color:"#CC5500",name:"Texas Longhorns"},GONZ:{color:"#5D4F97",name:"Gonzaga Bulldogs"},TEM:{color:"#BC0138",name:"Temple Owls"},ND:{color:"#C5B358",name:"Notre Dame Fighting Irish"},ODU:{color:"#93BFEB",name:"Old Dominion Monarchs"},ARIZ:{color:"#C41E3A",name:"Arizona Wildcats"},UAB:{color:"#006600",
name:"UAB Blazers"},ILL:{color:"#F77329",name:"Illinois Fighting Illini"},VAN:{color:"#997F3D",name:"Vanderbilt Commodores"},BYU:{color:"#1A4F86",name:"Brigham Young Cougars"},XAV:{color:"#3877B3",name:"Xavier Musketeers"},SJU:{color:"#CC0033",name:"St. John's Red Storm"},UNC:{color:"#99BFE5",name:"North Carolina Tar Heels"},GMU:{color:"#016600",name:"George Mason Patriots"},SPC:{color:"#3E81BE",name:"St. Peter's Peacocks"},BU:{color:"#CC0000",name:"Boston University Terriers"},MEM:{color:"#3A6ED9",
name:"Memphis Tigers"},ORU:{color:"#CFB53B",name:"Oral Roberts Golden Eagles"},UCLA:{color:"#0073CF",name:"UCLA Bruins"},MIZZ:{color:"#FFCC33",name:"Missouri Tigers"},SYR:{color:"#FF7F00",name:"Syracuse Orange"},UALR:{color:"#AD0000",name:"Arkansas-Little Rock Trojans"},MARQ:{color:"#FDBB30",name:"Marquette Golden Eagles"},KU:{color:"#0060A5",name:"Kansas Jayhawks"},"TA&M":{color:"#814D4C",name:"Texas A&M Aggies"},PUR:{color:"#B1946C",name:"Purdue Boilermakers"},MORE:{color:"#004FA2",name:"Morehead State Eagles"},
KSU:{color:"#633194",name:"Kansas State Wildcats"},DUKE:{color:"#3C7FBF",name:"Duke Blue Devils"},USC:{color:"#A50010",name:"USC Trojans"},BEL:{color:"#FF0000",name:"Belmont Bruins"},MSU:{color:"#4F8248",name:"Michigan State Spartans"},MICH:{color:"#F5D130",name:"Michigan Wolverines"},CIN:{color:"#E00122",name:"Cincinnati Bearcats"},UNLV:{color:"#FF2400",name:"UNLV Rebels"},WASH:{color:"#E8D3A2",name:"Washington Huskies"},USU:{color:"#0066CC",name:"Utah State Aggies"},INST:{color:"#00669A",name:"Indiana State Sycamores"},
LOU:{color:"#FF0000",name:"Louisville Cardinals"},FLA:{color:"#FF4A00",name:"Florida Gators"},ALST:{color:"#E9A900",name:"Alabama State Hornets"},OSU:{color:"#FF2000",name:"Ohio State Buckeyes"},BUT:{color:"#3877B3",name:"Butler Bulldogs"},WVU:{color:"#FFCC00",name:"West Virginia Mountaineers"},UTSA:{color:"#F47321",name:"Texas-San Antonio Roadrunners"},UNCA:{color:"#3877B3",name:"North Carolina-Asheville Bulldogs"},GTWN:{color:"#999999",name:"Georgetown Hoyas"},WIS:{color:"#C32122",name:"Wisconsin Badgers"},
UNCO:{color:"#FFCC33",name:"Northern Colorado Bears"},RICH:{color:"#9E0712",name:"Richmond Spiders"},VILL:{color:"#B8D7E4",name:"Villanova Wildcats"},VCU:{color:"#F8B800",name:"Virginia Commonwealth Rams"},WOF:{color:"#CFB53B",name:"Wofford Terriers"},BUCK:{color:"#FF9900",name:"Bucknell Bison"},TENN:{color:"#F77F00",name:"Tennessee Volunteers"},SDSU:{color:"#A81933",name:"San Diego State Aztecs"},UCSB:{color:"#EAAF0F",name:"UC Santa Barbara Gauchos"},UK:{color:"#3877B3",name:"Kentucky Wildcats"},
UGA:{color:"#FF0000",name:"Georgia Bulldogs"},PSU:{color:"#3877B3",name:"Penn State Nittany Lions"}};for(c in $colorValues$$inline_138_s$$)$setTeamColor$$(c,$colorValues$$inline_138_s$$[c].color);dispatchEvent("onTeamModelReady",$self$$);clearInterval($self$$.interval);$self$$.interval=setInterval($poll$$,$INTERVAL_TIME$$)});var $INTERVAL_TIME$$=5E3,$teamsLoaded$$=false;this.getTeam=function getTeam($id$$){$id$$=$id$$.toLowerCase();return $self$$.team_schema[$id$$]};this.getAll=function getAll(){return $self$$.team_schema};
this.setTeamColor=$setTeamColor$$;Log("Fetching team data");$self$$.team_schema={};$model$$.setStream("http://tweetriver.com/mr_mm_2011.json");$model$$.load(null,"jsonp");return $self$$}Tweet.prototype=new EventDispatcher;Tweet.constructor=Tweet;
function Tweet(){function $decorateImg$$(){var $photo$$=$element$$.find(".tweet-attachment");$photo$$.click($onPhotoClick$$);$photo$$.hover(function(){$(this).css("cursor","pointer")},function(){$(this).css("cursor","auto")})}function $removeImg$$(){var $height$$=$element$$.height();$element$$.css("height",$height$$);$element$$.find(".tweet-attachment").remove()}function $onLoggedStateChange$$($e$$){Log("logged in state changed to: "+$e$$.target.loggedIn)}function $onClickReply$$(){dispatchEvent("onReply",
$self$$)}function $onClickFollow$$(){dispatchEvent("onFollow",$self$$)}function $onClickReTweet$$(){Log("onClickReTweet");dispatchEvent("onReTweet",$self$$)}function $onClickFavorite$$(){var $type$$=$(this).text();Log("type: "+$type$$);$type$$=="Favorite"&&$(this).find("b").text("Unfavorite");$type$$=="Unfavorite"&&$(this).find("b").text("Favorite");dispatchEvent("onFavorite",$self$$)}function $onPhotoClick$$(){dispatchEvent("onPhotoClick",$self$$)}function $decorate$$($e$$){$e$$.find(".action-follow").click($onClickFollow$$);
$e$$.find(".action-favorite").click($onClickFavorite$$);$e$$.find(".action-retweet").click($onClickReTweet$$);$e$$.find(".action-reply").click($onClickReply$$);$e$$.find(".tweet-utility").fadeTo("fast",0.5);$e$$.hover(function(){$(this).find(".tweet-utility").stop().fadeTo("slow",1)},function(){$(this).find(".tweet-utility").stop().fadeTo("slow",0.5)})}function $parseDate$$(){var $t$$=TimeStamp.timeSince($self$$.timeStamp);if($t$$.days>0)return $t$$.days+" "+($t$$.days==1?"day":"days")+" ago";if($t$$.hours>
0)return $t$$.hours+" "+($t$$.hours==1?"hour":"hours")+" ago";if($t$$.minutes>0)return $t$$.minutes+" "+($t$$.minutes==1?"minute":"minutes")+" ago";if($t$$.seconds<1)return"less than a second ago";return $t$$.seconds+" "+($t$$.seconds==1?"second":"seconds")+" ago"}var $self$$=this,$element$$=null,$profileImg$$,$mediaParser$$=new MediaParser;this.type=null;this.setData=function setData($d$$){$self$$.tweetText=$d$$.text;$self$$.htmlText=TweetParser.parse($d$$.text);$self$$.tweetID=$d$$.id_str;$self$$.timeStamp=
$d$$.created_at;$self$$.time=$parseDate$$();$self$$.screenName=$d$$.user.screen_name;$self$$.userName=$d$$.user.name;$self$$.bio=$d$$.user.description;$self$$.followers=$d$$.user.followers_count;$self$$.following=$d$$.user.friends_count;$self$$.tweets=$d$$.user.statuses_count;$self$$.orderID=$d$$.order_id;$profileImg$$=$d$$.user.profile_image_url};this.getHTML=function getHTML(){$element$$=$(Tweet.constructor.tweetTemplate);$element$$.attr("id","tweet-"+$self$$.tweetID+"-"+(new Date).getTime());$element$$.find(".tweet-timestamp a").text($self$$.time);
$element$$.find(".tweet-timestamp a").attr("href","http://www.twitter.com/#!/"+$self$$.screenName+"/status/"+$self$$.tweetID);$element$$.find(".tweet-name a").attr("href","http://www.twitter.com/#!/"+$self$$.screenName);$element$$.find(".tweet-name a").attr("title",$self$$.userName);$element$$.find(".tweet-name-full").text($self$$.userName);$element$$.find(".tweet-name a").text($self$$.screenName);$element$$.find(".tweet-profile-image a").attr("href","http://www.twitter.com/#!/"+$self$$.screenName);
$element$$.find(".tweet-profile-image a img").attr("src",$profileImg$$);$element$$.find(".tweet-profile-image a img").attr("width",48);$element$$.find(".tweet-profile-image a img").attr("height",48);$element$$.find(".tweet-text").html($self$$.htmlText);$mediaParser$$.getImage($self$$.tweetText)||$element$$.find(".tweet-attachment").remove();$decorate$$($element$$);return $element$$};this.remove=function remove(){$element$$.remove()};this.updateTime=function updateTime(){$self$$.time=$parseDate$$();
$element$$.find(".tweet-timestamp a").text($self$$.time)};this.setTwitterAPI=function setTwitterAPI($t$$){$self$$.twitterAPI=$t$$;$self$$.twitterAPI.addEventListener("onLoggedInStateChanged",$onLoggedStateChange$$)};this.getElement=function $this$getElement$(){return $element$$};$mediaParser$$.addEventListener("onImageData",function onImageData($e$$){var $thumb$$=new Image;$thumb$$.onload=$decorateImg$$;$thumb$$.onerror=$removeImg$$;$thumb$$.src=$e$$.target.thumb;$self$$.largeImage=$e$$.target.largeImage;
$element$$.find(".tweet-attachment").css("background-image","url("+$thumb$$.src+")")});return this}$(document).ready(function(){new Application});
function Application(){function $onRoundSelect$$($e$$){$schedules$$.loadRound($e$$.target.selected)}function $onTeamSelect$$($e$$){Log($e$$.target.selected);$tweetlist$$.selectTeam($e$$.target.selected)}function $onHashTagClick$$($e$$){Log($e$$.target.hashTag);$tweetlist$$.hashTagClick($e$$.target.hashTag)}var $schedules$$=new ScheduleController,$tweetlist$$=new TweetListController,$nav$$=new NavController,$selector$$=new TeamSelectorController,$teams$$=new TeamsModel;$("#tbox");this.toString=function toString(){return"Application"};
$teams$$.addEventListener("onTeamModelReady",function onTeamModelReady(){$teams$$.removeEventListener("onTeamModelReady",this);$nav$$.addEventListener("onRoundSelect",$onRoundSelect$$);$nav$$.setAvailableRounds(["round1","round2"]);$nav$$.activateRound("round1");$selector$$.addEventListener("onTeamSelect",$onTeamSelect$$);$selector$$.buildList($teams$$);$schedules$$.addEventListener("onTeamSelect",$onTeamSelect$$);$schedules$$.addEventListener("onHashTagClick",$onHashTagClick$$);$schedules$$.setTeamModel($teams$$)})}
TweetListController.prototype=new EventDispatcher;TweetListController.constructor=TweetListController;
function TweetListController(){function $selectTeam$$($nameElement$$inline_151_t$$inline_144_team$$){clearInterval($autoStartInt$$);Log("team selected! "+$nameElement$$inline_151_t$$inline_144_team$$);var $obj$$=$nameElement$$inline_151_t$$inline_144_team$$.team,$name$$=$nameElement$$inline_151_t$$inline_144_team$$.team.displayName?$nameElement$$inline_151_t$$inline_144_team$$.team.displayName:$obj$$.name,$hState_orgSize$$=$name$$.indexOf("ALL TEAMS")==-1?"show":"hide",$f$$="http://tweetriver.com/mr_mm_2011/mm-2011-"+
$obj$$.shortName+".json";$feedColor$$=$obj$$.color;$setFeed$$($f$$);$updateColors$$();$nameElement$$inline_151_t$$inline_144_team$$=$nameElement$$inline_151_t$$inline_144_team$$.team.hashTag;if($hState_orgSize$$=="show"){$(".spirit-bubble").text("go "+$nameElement$$inline_151_t$$inline_144_team$$);$("#team-selector").hide();$(".spirit-bubble").show();$("#show-all-streams").show()}else{$(".spirit-bubble").hide();$("#team-selector").show();$("#show-all-streams").hide()}$hState_orgSize$$=25;$nameElement$$inline_151_t$$inline_144_team$$=
$("#stream-header h2");$nameElement$$inline_151_t$$inline_144_team$$.css("font-size",$hState_orgSize$$);$nameElement$$inline_151_t$$inline_144_team$$.text($name$$);for(Log("name width: "+$nameElement$$inline_151_t$$inline_144_team$$.width());$nameElement$$inline_151_t$$inline_144_team$$.width()>220;){$hState_orgSize$$-=1;$nameElement$$inline_151_t$$inline_144_team$$.css("font-size",$hState_orgSize$$)}}function $setFeed$$($feedURL$$2_i$$){$("#loadmore-count").hide();$removeScrollbar$$();$model$$.setStream($feedURL$$2_i$$);
$updateModel$$.setStream($feedURL$$2_i$$);$model$$.load();if($tweets$$){$feedURL$$2_i$$=0;for(var $total$$=$tweets$$.length-1,$t$$;$feedURL$$2_i$$<=$total$$;$feedURL$$2_i$$++){$t$$=$tweets$$[$feedURL$$2_i$$];$t$$.remove()}}$loader$$.show()}function $poll$$(){$updateModel$$.poll($lastID$$);if($tweets$$)for(var $i$$=0,$total$$=$tweets$$.length-1,$t$$;$i$$<=$total$$;$i$$++){$t$$=$tweets$$[$i$$];$t$$.updateTime()}}function $onReTweet$$($e$$){$retweetModal$$.open($e$$.target)}function $onFavorite$$($e$$){$favoriteModal$$.open($e$$.target)}
function $onReply$$($e$$){$replyModal$$.open($e$$.target)}function $onFollow$$($e$$){$followModal$$.open($e$$.target)}function $onPhotoClick$$($e$$){$photoModal$$.open($e$$.target)}function $addListeners$$($t$$){$t$$.addEventListener("onReTweet",$onReTweet$$);$t$$.addEventListener("onFavorite",$onFavorite$$);$t$$.addEventListener("onReply",$onReply$$);$t$$.addEventListener("onFollow",$onFollow$$);$t$$.addEventListener("onPhotoClick",$onPhotoClick$$)}function $updateColors$$(){$(".team-tweets-css-scrollbar .scrollbar-handle").css("background-color",
$feedColor$$);$("#timeline .tweet-bg a").not("#timeline .tweet-bg .tweet-utility a").css("color",$feedColor$$);$(".spirit-bubble").css("background-color",$feedColor$$);$("#loadmore a").css("background-color",$feedColor$$);$("#stream-header h2").css("color",$feedColor$$)}function $addScrollbar$$(){$(".team-tweets-css-scrollbar").scrollbar({handleHeight:60,arrows:false})}function $removeScrollbar$$(){var $l$$=$("#loadmore").detach(),$t$$=$("#main-timeline").detach();$("#timeline .scrollbar-pane").remove();
$("#timeline .scrollbar-handle-container").remove();$("#timeline .scrollbar-handle-up").remove();$("#timeline .scrollbar-handle-down").remove();$("#timeline").prepend($t$$);$("#timeline").prepend($l$$)}var $autoStartInt$$=null,$feedColor$$=null,$tweets$$=null,$newTweets$$=null,$model$$=new TRModel,$updateModel$$=new TRModel,$updateInt$$=null,$loader$$=$("#tweet-team-loader"),$element$$=$("#main-timeline"),$lastID$$,$verizonModule$$=new VerizonModule,$modalOverlay$$=new ModalOverlay,$retweetModal$$=
new ReTweetModal($modalOverlay$$),$favoriteModal$$=new FavoriteModal($modalOverlay$$),$replyModal$$=new ModalReply($modalOverlay$$),$followModal$$=new ModalFollow($modalOverlay$$),$photoModal$$=new ModalPhoto($modalOverlay$$),$modalTweetBox$$=new ModalTweetBox($modalOverlay$$),$twitterProxy$$=new TwitterProxy;$twitterProxy$$.addEventListener("onReady",$verizonModule$$.twitterReady);$favoriteModal$$.twitterProxy=$twitterProxy$$;$modalOverlay$$.twitterProxy=$twitterProxy$$;$retweetModal$$.twitterProxy=
$twitterProxy$$;$favoriteModal$$.twitterProxy=$twitterProxy$$;$replyModal$$.twitterProxy=$twitterProxy$$;$followModal$$.twitterProxy=$twitterProxy$$;$photoModal$$.twitterProxy=$twitterProxy$$;$modalTweetBox$$.twitterProxy=$twitterProxy$$;$verizonModule$$.twitterProxy=$twitterProxy$$;this.setFeed=$setFeed$$;this.selectTeam=$selectTeam$$;this.hashTagClick=function hashTagClick($h$$){$modalTweetBox$$.open($h$$)};this.toString=function toString(){return"TweetListController"};$addListeners$$($verizonModule$$);
$model$$.addEventListener("onDataChange",function onDataChange($data$$inline_173_e$$){$loader$$.hide();$data$$inline_173_e$$=$data$$inline_173_e$$.target.getData();var $i$$=0,$total$$=$data$$inline_173_e$$.length-1,$t$$=null;$tweets$$=[];$element$$.css("opacity",0);$("#loadmore-count").hide();for($("#loadmore").show();$i$$<=$total$$;$i$$++){$t$$=new Tweet;$t$$.setTwitterAPI($twitterProxy$$);$tweets$$.push($t$$);$addListeners$$($t$$);$t$$.setData($data$$inline_173_e$$[$i$$]);$element$$.append($t$$.getHTML())}$addScrollbar$$();
$updateColors$$();$element$$.animate({opacity:1},500);dispatchEvent("tweetListLoaded",self);$lastID$$=$data$$inline_173_e$$[0].order_id;clearInterval($updateInt$$);$updateInt$$=setTimeout($poll$$,1E4)});$updateModel$$.addEventListener("onDataChange",function onDataUpdate($data$$16_e$$){Log("updating new tweets: "+$data$$16_e$$.target.getData().length);$data$$16_e$$=$data$$16_e$$.target.getData();var $total$$=$data$$16_e$$.length-1,$i$$=0,$t$$;if($total$$>=0){$("#loadmore-count").text($total$$+1+" New Tweets");
$("#loadmore-count").fadeIn(300);$newTweets$$=[];for($i$$=0;$i$$<=$total$$;$i$$++){$t$$=new Tweet;$t$$.setTwitterAPI($twitterProxy$$);$t$$.setData($data$$16_e$$[$i$$]);$newTweets$$.push($t$$)}}else $("#loadmore-count").fadeOut(300);clearInterval($updateInt$$);$updateInt$$=setTimeout($poll$$,1E4)});(function enableShowAllTeams(){var $s$$=$("#show-all-streams");$s$$.click(function(){$selectTeam$$({team:{displayName:"ALL TEAMS",shortName:"all",name:"ALL TEAMS",color:"#ED1F24"}})});$s$$.hover(function(){$(this).css("cursor",
"pointer")},function(){$(this).css("cursor","auto")});$.cookie("team",null)})();$("#loadmore-count").click(function updateList(){clearInterval($updateInt$$);$removeScrollbar$$();$("#loadmore-count").hide();var $total$$=$newTweets$$.length-1,$t$$=null,$i$$=0;$lastID$$=$newTweets$$[0].orderID;Log("last id: "+$lastID$$);for($newTweets$$.reverse();$i$$<=$total$$;$i$$++){$t$$=$newTweets$$[$i$$];$tweets$$.unshift($t$$);$addListeners$$($t$$);$element$$.prepend($t$$.getHTML())}$addScrollbar$$();$updateColors$$();
clearInterval($updateInt$$);$updateInt$$=setTimeout($poll$$,1E4)});Tweet.constructor.tweetTemplate=$("#template-tweet").html();$("#template-tweet").remove();$autoStartInt$$=setTimeout(function autoStart(){$selectTeam$$({team:{displayName:"ALL TEAMS",shortName:"all",name:"ALL TEAMS",color:"#ED1F24"}})},500);return this}ScheduleController.prototype=new EventDispatcher;ScheduleController.constructor=ScheduleController;
function ScheduleController(){function $getFeedsForRound$$($r_round$$){var $dates_feed$$=$getRoundDates$$($r_round$$);$r_round$$=[$dates_feed$$.start.clone()];for($feedURLs$$=[];$dates_feed$$.start<$dates_feed$$.end;){$dates_feed$$.start.add({days:1});var $d$$=$dates_feed$$.start.clone();$r_round$$.push($d$$)}for($d$$ in $r_round$$){$dates_feed$$="mock/events-"+$r_round$$[$d$$].toString("yyyyMMdd")+".json";$feedURLs$$.push($dates_feed$$)}}function $getGamesForRound$$($game$$1_round$$){var $eligibleGames$$=
[];$getRoundDates$$($game$$1_round$$);for(var $g$$ in $self$$.scheduleData){$game$$1_round$$=$self$$.scheduleData[$g$$];var $allow$$=true;for(c in $game$$1_round$$.competitor)if(!$self$$.teams.getTeam($game$$1_round$$.competitor[c].shortName))if($game$$1_round$$.competitor[c].shortName!="TBA")$allow$$=false;$allow$$&&$eligibleGames$$.push($game$$1_round$$)}return $eligibleGames$$}function $poll$$(){$getFeedsForRound$$($self$$.loadedRound);for(var $f$$ in $feedURLs$$){$model$$0$$.setStream($feedURLs$$[$f$$]);
$model$$0$$.loadJSON()}Log("Polling scores..")}function $sortGames$$(){$games$$=$games$$.sort(function($a$$,$b$$){return $a$$.date-$b$$.date});for(g in $games$$)$games$$[g].view.appendTo("#schedule-container")}function $teamClick$$($obj$$){$self$$.selected={team:$obj$$.target.selected};dispatchEvent("onTeamSelect",$self$$)}function $onHashTagClick$$($obj$$){$self$$.hashTag=$obj$$.target.hashTag;dispatchEvent("onHashTagClick",$self$$);return false}function $getRoundDates$$($round$$){rounds={round1:{start:new Date(2011,
2,15),end:new Date(2011,2,16)},round2:{start:new Date(2011,2,17),end:new Date(2011,2,18)},round3:{start:new Date(2011,2,19),end:new Date(2011,2,20)},regionals:{start:new Date(2011,2,24),end:new Date(2011,2,27)},finals:{start:new Date(2011,3,2),end:new Date(2011,3,2)},championship:{start:new Date(2011,3,4),end:new Date(2011,3,4)}};return rounds[$round$$]}var $self$$=this,$model$$0$$=new TRModel,$feedURLs$$=[],$games$$=[],$streamLoadCount$$=0;$model$$0$$.addEventListener("onDataChange",function onDataChange($data$$18_e$$){$data$$18_e$$=
$data$$18_e$$.target.getData();$self$$.scheduleData=$data$$18_e$$.events.event;$data$$18_e$$=$getGamesForRound$$($self$$.loadedRound);if($streamLoadCount$$>0){$streamLoadCount$$--;$("#scoreboard-loader").hide();$($data$$18_e$$).each(function(){var $data$$inline_181_game$$=$(this)[0];$data$$inline_181_game$$=new GameController($data$$inline_181_game$$,$self$$.teams);$games$$.push($data$$inline_181_game$$);$data$$inline_181_game$$.addEventListener("onTeamSelect",$teamClick$$);$data$$inline_181_game$$.addEventListener("onHashTagClick",
$onHashTagClick$$);if($data$$inline_181_game$$.active&&$self$$.firstActive==null)$self$$.firstActive=$data$$inline_181_game$$});$self$$.firstActive&&$self$$.firstActive.view.position();if($streamLoadCount$$==0){$sortGames$$();$(".schedule-scrollbar").scrollbar({handleHeight:151,arrows:false})}}else $($data$$18_e$$).each(function(){var $data$$=$(this)[0];for(game in $games$$)$games$$[game].id==$data$$.id&&$games$$[game].update($data$$)})});$self$$.loadRound=function loadRound($round$$){$getFeedsForRound$$($round$$);
Log("Loading round: "+$round$$);$games$$=[];var $l$$=$("#scoreboard-loader").detach();$("#schedule-container").empty();$("#schedule_list .scrollbar-pane").remove();$("#schedule_list .scrollbar-handle-container").remove();$("#schedule_list .scrollbar-handle-up").remove();$("#schedule_list .scrollbar-handle-down").remove();$("#schedule-container").prepend($l$$);$streamLoadCount$$=$feedURLs$$.length;for(var $f$$ in $feedURLs$$){$model$$0$$.setStream($feedURLs$$[$f$$]);$model$$0$$.loadJSON()}clearInterval($self$$.interval);
$self$$.interval=setInterval($poll$$,5E3);$("#scoreboard-loader").show();$self$$.loadedRound=$round$$};$self$$.setTeamModel=function setTeamModel($model$$){$self$$.teams=$model$$};return this}GameController.prototype=new EventDispatcher;GameController.constructor=GameController;
function GameController($gameData$$,$model$$0$$){function $onTeamUpdate$$(){var $h$$=$model$$0$$.getTeam($self$$.homeTeam.shortName);$h$$&&$self$$.homeMentions.text($h$$.mentions);($h$$=$model$$0$$.getTeam($self$$.visitingTeam.shortName))&&$self$$.visitorMentions.text($h$$.mentions);$compareMentions$$();$visualizeWL$$()}function $createView$$($viewData$$){var $template$$=$("#gameTemplate").tmpl($viewData$$);$template$$.css("opacity",0);$template$$.animate({opacity:1},{duration:500,complete:function(){$(this).css("filter",
"")}});$self$$.visitorScore=$template$$.find(".team-visiting .team-score");$self$$.homeScore=$template$$.find(".team-home .team-score");$self$$.period=$template$$.find(".game-period");$self$$.visitorMentions=$template$$.find(".team-visiting .mentions");$self$$.homeMentions=$template$$.find(".team-home .mentions");$template$$.find(".home-tweet-cta").click({teamId:$viewData$$.homeTeam},$teamClick$$);$template$$.find(".visiting-tweet-cta").click({teamId:$viewData$$.visitingTeam},$teamClick$$);$template$$.find(".hashtag").click($hashTagClick$$);
$compareMentions$$();return $template$$}function $visualizeWL$$(){if($self$$.visitorScore.text()>$self$$.homeScore.text()){$self$$.view.find(".team-home .team-name").addClass("game-losing");$self$$.view.find(".team-visiting .team-name").removeClass("game-losing")}else if($self$$.visitorScore.text()<$self$$.homeScore.text()){$self$$.view.find(".team-home .team-name").removeClass("game-losing");$self$$.view.find(".team-visiting .team-name").addClass("game-losing")}else{$self$$.view.find(".team-home .team-name").removeClass("game-losing");
$self$$.view.find(".team-visiting .team-name").removeClass("game-losing")}}function $compareMentions$$(){if($self$$.homeTeam.customData.mentions>$self$$.visitingTeam.customData.mentions){$self$$.homeMentions.addClass("team-mentions-large");$self$$.homeMentions.removeClass("team-mentions-small")}else if($self$$.homeTeam.customData.mentions<$self$$.visitingTeam.customData.mentions){$self$$.visitorMentions.addClass("team-mentions-large");$self$$.visitorMentions.removeClass("team-mentions-small")}}function $sanitizeData$$($data$$){var $templateData$$=
{game:{id:$data$$.id}};$templateData$$.date=Date.parse($data$$.date);$self$$.date=$templateData$$.date;for(cid in $data$$.competitor){var $c$$=$data$$.competitor[cid];if($c$$.homeaway=="home"){$templateData$$.homeTeam=$c$$;$self$$.homeTeam=$c$$}else{$templateData$$.visitingTeam=$c$$;$self$$.visitingTeam=$c$$}$c$$.customData=$self$$.teams.getTeam($c$$.shortName);if($c$$.customData==undefined){$c$$.customData={};$c$$.customData.hashTag="&nbsp;";$c$$.hashTag="&nbsp;";$c$$.customData.seed="";$c$$.customData.mentions=
0;$c$$.name=$c$$.shortName}else{$c$$.name=$c$$.customData.displayName;$c$$.hashTag=$c$$.customData.hashTag}if($c$$.name.length>22)$c$$.name=$c$$.shortName}if($data$$.eventstatus.status=="FINAL"){$templateData$$.game.status="final";$templateData$$.game.period="final";$self$$.active=false}else if($data$$.eventstatus.status=="SCHEDULED"){$templateData$$.game.status="current";$templateData$$.game.period=$templateData$$.date.toString("M/d");$self$$.active=false}else{if($data$$.eventstatus.status=="INTERMISSION"){$templateData$$.game.status=
"current";$templateData$$.game.period="Half"}else{$templateData$$.game.status="current";$templateData$$.game.period=Utils.ordinal($data$$.eventstatus.curPeriod)}$self$$.active=true}return $self$$.templateData=$templateData$$}function $teamClick$$($obj$$){$self$$.selected=$obj$$.data.teamId;dispatchEvent("onTeamSelect",$self$$)}function $hashTagClick$$(){$self$$.hashTag="Go "+$(this).text()+"!";dispatchEvent("onHashTagClick",$self$$);return false}var $self$$=this;$self$$.update=function update($data$$22_viewData$$){$data$$22_viewData$$=
$sanitizeData$$($data$$22_viewData$$);$self$$.visitorScore.text($data$$22_viewData$$.visitingTeam.score);$self$$.homeScore.text($data$$22_viewData$$.homeTeam.score);$self$$.period.text($data$$22_viewData$$.game.period);$self$$.view.data($data$$22_viewData$$);$visualizeWL$$();$data$$22_viewData$$.game.status=="final"&&$self$$.view.addClass("game-final")};$self$$.setTeamModel=function setTeamModel($model$$){$self$$.teams=$model$$};(function init($data$$,$model$$){$self$$.id=$data$$.id;$self$$.teams=
$model$$;$model$$.addEventListener("onTeamModelReady",$onTeamUpdate$$);var $viewData$$=$sanitizeData$$($data$$);$self$$.view=$createView$$($viewData$$);$visualizeWL$$()})($gameData$$,$model$$0$$);return $self$$}NavController.prototype=new EventDispatcher;NavController.constructor=NavController;
function NavController(){function $navClick$$($e$$){var $current_t$$=$($e$$.target);$e$$=$current_t$$.parent();if($e$$.is(".inactive"))return false;$self$$.selected=$current_t$$.attr("id");$current_t$$=$self$$.view.find(".tournament-selected");$current_t$$.removeClass("tournament-selected");$current_t$$.addClass("active");$e$$.removeClass("active");$e$$.addClass("tournament-selected");dispatchEvent("onRoundSelect",$self$$);return false}var $self$$=this;$self$$.activateRound=function activateRound($round$$){$self$$.view.find("#"+
$round$$).trigger("click")};$self$$.setAvailableRounds=function setAvailableRounds($rounds$$){for(round in $rounds$$){var $t$$=$self$$.view.find("#"+$rounds$$[round]);if($t$$){$t$$.parent().addClass("active");$t$$.parent().removeClass("inactive")}}};(function activate(){$self$$.view=$("#tournament_nav");$self$$.view.find("a").each(function(){$(this).click($navClick$$)})})();return $self$$}TeamSelectorController.prototype=new EventDispatcher;TeamSelectorController.constructor=TeamSelectorController;
function TeamSelectorController(){function $activateLinks$$(){$(".team-column a").each(function(){$(this).click(function(){var $teamlist$$=$self$$.teams.getAll(),$tid$$=$(this).attr("id");$self$$.selected={team:$teamlist$$[$tid$$]};$.cookie("team",$tid$$,{expires:30,path:"/"});dispatchEvent("onTeamSelect",$self$$);return false})})}var $self$$=this;$self$$.buildList=function buildList($cTeam$$inline_197_columnList_faveTeam_teamData$$1_teamListView_teamlist$$inline_198_teams$$){$self$$.teams=$cTeam$$inline_197_columnList_faveTeam_teamData$$1_teamListView_teamlist$$inline_198_teams$$;
$cTeam$$inline_197_columnList_faveTeam_teamData$$1_teamListView_teamlist$$inline_198_teams$$=[];var $teamlist$$1_tid$$=$self$$.teams.getAll();for(t in $teamlist$$1_tid$$)$cTeam$$inline_197_columnList_faveTeam_teamData$$1_teamListView_teamlist$$inline_198_teams$$.push({shortName:$teamlist$$1_tid$$[t].shortName,name:$teamlist$$1_tid$$[t].displayName});$.template("columns",'{{each columns}}<ul class="team-column">{{each $value}}<li><a href="#" id="${$value.shortName}">${$value.name}</a></li>{{/each}}</ul>{{/each}}');
$cTeam$$inline_197_columnList_faveTeam_teamData$$1_teamListView_teamlist$$inline_198_teams$$=[$cTeam$$inline_197_columnList_faveTeam_teamData$$1_teamListView_teamlist$$inline_198_teams$$.splice(0,10),$cTeam$$inline_197_columnList_faveTeam_teamData$$1_teamListView_teamlist$$inline_198_teams$$.splice(0,10),$cTeam$$inline_197_columnList_faveTeam_teamData$$1_teamListView_teamlist$$inline_198_teams$$.splice(0,10),$cTeam$$inline_197_columnList_faveTeam_teamData$$1_teamListView_teamlist$$inline_198_teams$$.splice(0,
10),$cTeam$$inline_197_columnList_faveTeam_teamData$$1_teamListView_teamlist$$inline_198_teams$$.splice(0,13),$cTeam$$inline_197_columnList_faveTeam_teamData$$1_teamListView_teamlist$$inline_198_teams$$.splice(0,13)];$cTeam$$inline_197_columnList_faveTeam_teamData$$1_teamListView_teamlist$$inline_198_teams$$=$.tmpl("columns",{columns:$cTeam$$inline_197_columnList_faveTeam_teamData$$1_teamListView_teamlist$$inline_198_teams$$});$("#team-selector a").qtip({content:$cTeam$$inline_197_columnList_faveTeam_teamData$$1_teamListView_teamlist$$inline_198_teams$$,
show:"mouseover",hide:{fixed:true},api:{onRender:$activateLinks$$},style:{tip:"bottomRight",width:700,border:{width:0,radius:5,color:"#fff"}},position:{corner:{target:"topMiddle",tooltip:"bottomRight"}}});$cTeam$$inline_197_columnList_faveTeam_teamData$$1_teamListView_teamlist$$inline_198_teams$$=null;if($.cookie("team")){$cTeam$$inline_197_columnList_faveTeam_teamData$$1_teamListView_teamlist$$inline_198_teams$$=$self$$.teams.getAll();$teamlist$$1_tid$$=$.cookie("team");$cTeam$$inline_197_columnList_faveTeam_teamData$$1_teamListView_teamlist$$inline_198_teams$$=
{team:$cTeam$$inline_197_columnList_faveTeam_teamData$$1_teamListView_teamlist$$inline_198_teams$$[$teamlist$$1_tid$$]}}if($cTeam$$inline_197_columnList_faveTeam_teamData$$1_teamListView_teamlist$$inline_198_teams$$){$self$$.selected=$cTeam$$inline_197_columnList_faveTeam_teamData$$1_teamListView_teamlist$$inline_198_teams$$;dispatchEvent("onTeamSelect",$self$$)}};return $self$$};